# 如何使用 CDN 服务来托管视频？

来聊聊课程视频为何要托管到 CDN 服务之上？然后用七牛云存储演示一下常用操作。

### 为何要采用 CDN ？

采用 CDN （内容分发网络）来托管视频，作用就是为了提高访问速度。首先说视频不能直接放到服务器上，比如 haoqicat.com 采用的是阿里云的服务器，在北京机房。如果我把课程直接上传到北京的这台服务器上，那么华北的用户访问起来可能速度还可以，那国内其他地方的人就会比较慢。CDN 服务的原理其实很简单，每次我上传一个视频文件到 CND 服务之上。视频就会被做几个拷贝，分别同步到西北，华东，华南等地区的多台服务器之上。这样不同地区的用户，访问的都是这个视频就近的那个拷贝，这样加载速度自然也就快了。

### 去哪购买 CDN ？

答案是到处都有，我自己目前用的是“七牛云存储”和”腾讯云“的 CDN 服务。

### 基本使用方式？

应该说非常简单，总共分两步，第一步，上传。第二步，拿到视频链接去自己的网站上使用。

具体操作我们就以七牛为例子来演示一下，见视频。

### 更新视频？

由于视频上传后会同步到全国各地的服务器上，所以，如果我有一个视频 index.mp4 ，上传后，我修改了一下视频，然后以相同的名字上传。那么视频链接指向的视频会依然是老版本的视频。

具体的操作：[官方帮助#刷新缓存](https://support.qiniu.com/question/category?id=93685&categoryTitle=%E8%9E%8D%E5%90%88CDN%E5%8A%A0%E9%80%9F&forumTitle=%E5%88%B7%E6%96%B0%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98)

不过说实话，操作还是比较麻烦，我自己的做法是直接把新版本改个名字，叫 index-v2.mp4 ，简单粗暴一些。

### 防止盗链

如果无意间视频链接泄漏，那么有可能人家在其他网站也可以使用你的视频了。这个对于很多付费的视频内容是不能接受的，解决方案就是采用”放盗链“。
