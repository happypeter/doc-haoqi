# 制作走马灯样式的猜你喜欢页面

欢迎进入第一章《制作非电商和社交但是很实用的各项功能》，这是我写过的最长的一个章节标题了。本章中会开发猜你喜欢页面，上面有走马灯效果，会制作甜点详情页面，上面有发评论和数据可视化的功能，这些比较通用的功能先做出来，这样也让后面开发社交和电商的具体功能时候显得更内容具体生动。

进入本章第一小节《制作走马灯样式的猜你喜欢页面》。页面上会显示多种甜点，手指左滑会滚动到下一个甜点。本节来把设计图上的内容开发出来。

### 添加页面

进入下一部分《添加页面》。添加路由，展示组件和容器组件进来。

到 sidebar 里面已经有指向猜你喜欢页面的链接了，/dishes 。下面到 Layout 组件中添加对应的路由规则

```
route-dishes
```

然后添加容器组件

```
container-dishes
```

最后加展示组件

```
comp-dishes
```


看看本部分达成的效果。侧边栏点猜你喜欢链接，可以打开 /dishes 路由，而且可以显示占位符。

至此，《添加页面》这部分就胜利完成了。

### 使用 react-slick 实现走马灯效果

进入下一部分《使用 react-slick 实现走马灯效果》。先不考虑具体要展示的内容，先把走马灯效果写出来。

首先安装 [react-slick](https://github.com/akiran/react-slick)

```
npm i react-slick
```

slick 是如丝般顺滑的意思，react-slick 就是专门用来做走马灯效果的。

添加 css 进来。

```
global-css
```

上面的这个 slick-carousel 是跟 react-slick 配合的一个包，已经作为依赖安装进来了。

展示组件中来运行 react-slick

```
slick-works
```

配置项中，dots 为 true ，意思要显示下面的点。infinite 为 false ，意思是不要无限循环翻页，speed 500 是翻页切换时间，slidesToShow 意思是一次显示几个页面，slidesToScroll 滑动一次翻几页，arrows false 就是不要左右两侧的箭头。接下来真正使用就是以数组形式传入多个页面即可。

看看本部分达成的效果。到 /dishes 页面，手指左滑，可以看到走马灯效果了。

至此，《使用 react-slick 实现走马灯效果》这部分就胜利完成了。


### 添加走马灯样式

进入下一部分《添加走马灯样式》。让页面美观起来。

```
slick-style
```

首先导入 styled-components 来添加样式。接下来把每一页要显示的主体内容都放到 DishesCard 组件中 ，暂时给它一个简单的样式就是纯白背景。另外，就是在 Wrap 组件里面通过嵌套 css 的形式，把走马灯下面的点修改了样式。

看看本部分达成的效果。页面上看到下面的点点，以及卡片样式都和设计图一致了。
至此，《添加走马灯样式》这部分就胜利完成了。

### 走马灯每页详情样式

进入下一部分《走马灯每页详情样式》。把上一步设置成白板的 DishesCard 的内容填充起来。

首先把它作为一个独立的组件抽离出来。

```
dishescard-comp
```

因为里面未来内容会很多。

然后先不传递实际数据，先把基本样式跑起来。

```
dishescard style
```

按照设计图写 CSS 而已，没有需要讲解的内容。

看看本部分达成的效果。页面上可以看到除了顶部的甜点海报，其他的设计图上的内容都体现出来了。

至此，《走马灯每页详情样式》这部分就胜利完成了。


### 添加海报

进入下一部分《添加海报》。把海报放到服务器上，然后写前端代码把海报显示出来。

服务器端代码文件夹下，手动创建 public/uploads/posters 文件夹，然后放两张甜点图片进来，分别叫 hsl.png 和 tlms.png 。

常量文件中加入一个生成海报链接的函数


```
poster-url
```

传入不同的海报文件名，可以得到这张海报在服务器上的链接。

添加一些甜点的临时数据

```
dishes-data
```

添加了一个对象数组，然后把数据传递给 DishesCard 去使用。


DishesCard 来展示数据

```
dish-show
```

首先用实际数据覆盖原来的展位符。其中关键的是海报一项，作为 background 添加进来。

看看本部分达成的效果。页面中显示比较完美了。
至此，《添加海报》这部分就胜利完成了。

### 结语

进入最后一部分《结语》。

复盘一下本节思路。首先通过使用插件来实现走马灯效果，然后用一下占位符数据先把界面调通，最后在添加跟实际中一致的数据进来再调通，任务拆解成小步骤，做起来才能轻松愉悦无压力。

至此，《制作走马灯样式的猜你喜欢页面》这个小节就胜利结束了。
