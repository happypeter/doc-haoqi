这节的主角是智能合约。我们来介绍一下传统智能合约的局限性，区块链是如何解决这些问题的，为何现在最流行的智能合约平台是以太坊区块链，以及智能合约的具体优势有哪些。

## 当智能合约遇见区块链

智能合约这个概念在区块链出现之前就有了，它和现实世界的合约其实没有本质区别，只不过**智能合约是被翻译成了代码的合约，是数字化的，合约的执行也是由计算机自动完成的**。扫码打开一个共享单车，我们就签署了一份智能合约，合约的内容我们心知肚明，半个小时一块钱。那么半小时真的过去后，扣款操作是不需要人为参与的，即所谓的合约是自动执行的。另外一个常见的例子就是网络众筹，项目方设置一个目标金额，比如是三万美金，到了期限后，目标达成，项目方就开始项目；没有达成，就退款给投资人，协议的执行是自动化的，这也是智能合约。但是这些还都只是传统意义的智能合约，跟2017年以来我们热炒的智能合约是有区别的。

最大的区别就是，**今日的智能合约，是在区块链条件下的智能合约，是去中心化的智能合约**。传统的智能合约有它天生的一些弱点：首先就是成本高，需要二十四小时在线的服务器，需要坚不可摧的数据库，很多时候也需要强有力的公司资金实力做背书，这些不是个人或者小企业能够负担的。再有就是可信度低，没有强大的信誉做保证，谁会相信对方不会违约呢。

这两个问题，在智能合约拥抱区块链之后就完美解决了。首先针对成本高的问题，由于区块链的底层机制是整个网络共同维护的，我们要部署智能合约到网上，只需要付很小的一部分手续费即可，底层达成共识的成本是整个网络上的所有用户分担的。而且区块链天然就是二十四小时在线，存放到区块链上的数据，就拥有了几乎和比特币类似的安全级别的保证。其次，同时也是最重要的就是可信度高，任何人都可以把自己写的任何形式的合约部署到区块链上，合约条款是合约方达成共识的，而且一旦写入就不能篡改了，到了时间会自动执行，大家都很放心。

## 以太坊

比特币之后，2017年又火了另外一个区块链，叫做以太坊。**以太坊的每一个区块上，不仅仅能跟比特币一样存交易，而且还能存代码**。嗯，你可能猜到了，这些代码就是智能合约。这些代码想要执行，底层就要有个运行环境。就像 JavaScript 的运行要依赖 nodejs 或者 v8 引擎，Java 运行需要 JVM，以太坊的智能合约是用一种名为 Solidity 的以太坊自创的语言开发的。而运行这种语言的环境就是 EVM，全名叫以太坊虚拟机。所以，也**可以说以太坊是运行在区块链上的虚拟机。**

如果说以比特币为代表的第一代区块链的核心任务是存放交易，那么以以太坊为代表的第二代区块链上不仅仅能存交易，而且能存放并执行代码。如果说交易数据是静态的，那么代码就是动态的。**比特币更像是一个公开的数据库，而以太坊则像一个公开的计算机**。人们认为这个从数据到数据加运算的升级，能让区块链的各种优势得到更为充分的发挥，所以以太坊火了起来。以太坊之所以引导了 ICO 风潮，就是因为底层的智能合约功能，其实发 token 过程的底层就是一个智能合约，合约中规定了发行 token 的总量等信息。同时 ICO 的代币售卖过程中的各种细节，也都可以通过更多的智能合约条款来进行自动化执行。另外，智能合约的具体内容已经不局限于传统商业合同的那些内容了，而是可以写任何代码，只要这个代码是部署到区块链上的，大家就认为它是一个智能合约，哪怕这个代码执行的内容看上去已经完全不像一个合约了，例如打印一个 Hello Wolrd， 或者做一个计数器加一操作。

跟比特币类似，以太坊也有自己的加密货币，名字叫以太币。现在是2018年，以太坊是紧随比特币之后、总价值第二的区块链网络，也是目前为止最大的智能合约平台。当然，以太坊之后的几乎所有公链项目也都支持智能合约，同时性能上肯定比以太坊有所改进。另外从安全角度来讲，以太坊凭借目前依旧强劲的实力，安全性依然比大部分公链高，但是非常著名的 RSK 项目也是个智能合约平台，它的底层是基于比特币的，所以从安全性角度，也挑战着以太坊的权威。

## 智能合约的几个应用方向

**首先一个是可编程的货币。**比特币只是货币，也就是钱，日常交易中，人们通常不是因为钱而吵架，而是因为钱被不当的使用而导致合同双方互相猜忌。智能合约带来的是合同本身的自动化执行，钱的分配从此都是通过公开透明的代码去自动完成的。争端消失了，社会效率也就提升了。同时有了智能合约，成立没有人的公司，或者叫 DAO，也就是分布式自制组织也成为了可能。例如，滴滴的业务其实也不过就是收集司机和打车人的信息，然后进行交易撮合，整个过程中没有什么是程序不能自动完成的。随着智能合约的使用，可以想象我们未来能拥有一个无人值守的滴滴，的哥的姐们可以真正把血汗钱都拿到自己手里了。

**第二个是知识产权的新定义**。当前世界中对于知识产品保护，我们走了两个极端：一个是极度封闭的专利保护，这造成了知识不能被大规模使用。例如2018年《我不是药神》电影中大家遇到的窘境，还有就是谷歌因为在安卓系统中使用 Java 而被甲骨文诉讼的事件，以及谷歌跟三星的专利之战。几百年前形成于美国的专利保护制度，目前已经严重的拖了社会进步的后腿。如果我们是个年轻的医学学术团体，想要对某种药品进行优化，对不起，这个事情你做不了，因为一切都是相对封闭的，进行优化的人会被认为是贼，被处以大额的罚款。知识本来就应该是共享的，所以专利保护是一个错误的极端。但是另外一个错误的极端，就是互联网的拷贝模式。高晓松说过，他写的《同桌的你》被无数人播放和欣赏，但是自己几乎不能靠创造拿到任何的钱。北美有业内人士统计过，一个歌手如果在互联网出现之前，有一首歌被播放过亿次，那么他应该可以拿到几十万美元，而现在由于网络听歌不要钱，创作者几乎拿不到什么钱了。所以说互联网的这种只注重分享，没有任何对原创作者保护的做法就进入了另外一个错误的极端。区块链和智能合约，可以带来对创作者的新的保护模式。国外已经有非常著名的歌手把她的歌放到了区块链上，通过智能合约，每一次收听歌曲，用户向歌手付费一美分，这是个很小额的付费，显然不会影响歌曲的传播；但是智能合约还规定了，如果这首歌用于商用，例如做电影插曲，那么收费就会采取不同的方案来进行。最后大家惊喜的看到，每一首歌自己实质上成了一个自动运营的公司，自由的智能合约细则，让作者和用户得到了最大化的直接连接，既有利于作者为自己的知识劳动获得报酬，也可以兼顾知识内容的传播。

**第三个是资产流通的新速度，关键词是通证经济**。通证的意思是“可以流通的资产证明”，证明的方式就是即 token，也就是在类似以太坊这样的平台上通过智能合约发出的代币。未来世界中，房屋汽车，文章歌曲，任何资产都会有自己对应的 token，就像天上每有一颗星星，水面上就有一个它的倒影。通过智能合约，资产可以更加自由的流通。每个人都知道共享的价值，一台机床放在那里不用，也一样会折旧，马路上的汽车如果能被大家充分共享，其实只要有目前五分之一的车上路，所有人的出行问题就解决了。即使社会生产资料总量不变，流通和共享速度如果大一倍，那么社会总财富也就相当于增加了一倍。共享经济我们搞了好多年了，效果并不理想，主要由两个原因，第一个就是信任达不成。比如，我的房子出租给别人，他如果把我的墙面弄脏了，我怎么找他赔偿？另外一个就是中介损耗，中介带来的是多余的步骤，浪费很多时间，另外中介也会收取高额费用，导致分享受益减少。而这些问题也都是智能合约所擅长的，透明的数据，透明的代码，透明的规则，这就是我们真正需要的。除了促进共享，通证经济还可以让每个消费者都自动成为企业的拥有者，统一所有人的利益，另外在企业融资和员工激励方面，通证经济也带来了极大的想象空间。一切的优势，本质上都来自于区块链和智能合约带来的透明和公平。

## 总结

这一节内容就是这些了，总结一下。说起区块链，不能不聊比特币。同样，要是没有以太坊，智能合约也不可能这么快火起来。首先，咱们介绍了为何智能合约和区块链的结合如此重要；然后，详细介绍了以太坊的特点，例如它的 EVM 虚拟机上可以运行功能完善的 solidity 语言，而正是有这些优势，才带来了智能合约在区块链领域的这一轮爆发；最后介绍智能合约的几个可能的应用方向。
