# 2016年5月--有色眼镜看框架

后面最好每过半年就出一个这样的各大框架的点评对比，也好对照看看自己之前的看法到底对不对。好，今天文章的目的还是在于黑掉所有，烘托出 Meteor-React 这一套的好。但是下面的论证我还是要力求有参考价值的。

![](http://o86bpj665.bkt.clouddn.com/happypeter-js-kingdom/pic21-1-frameworks.png)

上图中是我的推荐指数排名，下面红色区域的都是不推荐的。详细点评见下文。

### Angular1.0 和 2.0

首创的双向数据绑定, 内置的模块注入, 以及组件化的支持, 种种优势, 使得它迅速发展起来. 在 2014-2015 年, 有调查显示, 在使用了前端框架的项目, 有 50% 以上采用了 AngularJS. 但到底值不值我们继续学习, 我们再接下来看.

React 可以完美融合 ES6 ，而 AngularJS 则不一样。由于 ES6 的盛行, 使得 Angular 的依赖注入特性成为鸡肋, 以及 AngularJS 第一版对组件化支持的蹩脚实现(能支持是一回事, 好用是另一回事), 学习成本过高, 过于复杂。 所以 AngularJS 决定推翻设计重新开发2.0版, 而2.0过于激进的采用 Typescript, 完全不兼容的第一版的设计, 以及各种魔法的应用, 使得它离前端越走越远.

Peter 的看法：毕竟是老牌王者，目前为止依然用户基数巨大，说马上就死有点过早了。但是我依然是只关注，不用。

项目地址: <https://angularjs.org/>

### EmberJS

受 Rails 全栈框架的启发, EmberJS 逐步发展成前端领域的另一个 "Rails", 成为另一个独特的选择, 理论上, 你选择了 EmberJS, 就选择了一个完整稳定的生态, 不用再折腾的轮子. EmberJS 不仅全面支持模块化, MVC, 也实现了类似 AngularJS 的双向绑定(当然原理不同), 甚至还做到了内置的打包和发布应用功能. 总而言之, 它是一个十分全面的前端框架. 事实上, 如果说 AngularJS 是前端史上的一个高峰, 它就是另一个高峰. 但最近, 人气有一定的下降, Peter 感觉这个框架连同 Backbone 一样，已经没有前途了，未来逐步要淡出了。

项目地址: <http://emberjs.com/>

### ReactJS

ReactJS 自发布之始, 就人气很高, 它是第一个采用虚拟节点( virtual dom )技术的框架, 独创性地整合了函数式编程的理念, 采用单向数据流来简化组件关系, 使得它轻量和灵活, 事实上, 它本身只专注于如何渲染 UI, 或者只关注 View 层，严格来说和 AngularJS 和 EmberJS 这种 MVC 三层俱全的框架还是有很大不同。

随着 ReactNative 和 Redux 方案的出现, ReactJS 出现以来就搏击在前端的浪尖, 因为其简洁优雅的实现和对 Native APP 的冲击, 成为新的弄潮儿.

React 面完美融合新的 ES6 标准和前端思潮。


Peter 点评：React 自身无处不完美，但是周遭生态环境还需发展，目前 Webpack 对新手不友好，这是个 big headache 。

项目地址: <https://facebook.github.io/react/>

### VueJS

VueJS 是近二年的新秀, 它起步之初, 基本就是一个简化版的 AngularJS ， 但组件化理念与 ReactJS 更相近，而且也只是 View 层。
随着生态的快速发展, VueJS 正好接了 AngularJS 第一版的班, 又改良了 AngularJS 的错误设计(事后来看, 依赖注入与组件化两部分是比较失败的设计), 最近一年来发展很快，在 Laravel（ PHP 的一个框架)社区，以及在国内的很多厂商这里都受欢迎度很高.

还是在比较早的时候，Peter 是非常看好 VueJS 的，因为当时感觉 VueJS 虽然跟 React 很像，但是是个人项目（作者尤小右），可以走小清新路线，而 React 发展有可能走向企业化，变得不适合新手。但是最近两个月的发展跟 Peter 的预期几乎相反：Vue 变得越来越像 React ，vuex（类似 Redux ），ssr （服务器端渲染），JSX （本来就是 React 的东西，Vue2.0 中直接搬过来了），vue 明显不想走小清新路线。而 React 却变得越来越注重“开发者体验”，用起来很顺手，没有 Java 的那种拿你当傻子的感觉。

Peter 的结论：Vue 没有特别的优于 React 的地方（劣势倒是不少），不足以和 React 的财大气粗抗衡，感觉会走向衰落。不过看看目前还处于高亢的发展期，Peter 说这话也真正够胆大的。

项目地址: <http://vuejs.org/>

### Rails 

本文列出的唯一一个非 JS 框架。Peter 自己有使用 Rails 五年的经历，这里对 Rails 的看法相信也非常适用于 Django/Laravel 等其他的所有基于经典 HTTP 的 __请求 -> 应答 -> 页面刷新__ 这套思路的__传统框架__。

Rails 的前端 Asset Pipeline 的机制本身就是一团糟，而且目前已经跟前端发展的主流完全脱节了。所以很多 Rails 开发者开始全面抛弃 Rails 前端，而使用 Rails 的后端，这个 Peter 感觉也没有必要了，Ruby 和 Rails 社区的人才和创新力优势已经不是当年了，大量的资源已经流入 JS 社区。JS 社区目前已经是 Web 开发的急先锋了，证据对比一下 npm 和 rubygems 的包的质量和数量就可以找到。

Peter 的答案是：不要去学习传统框架了，因为你可能会学到大量即将淘汰的开发技巧。移动互联网时代，前端无刷新为默认，传统框架没有存在的必要了。

### MeteorJS

MeteorJS 是一个全栈框架, 像 Rails , 但前后端都是 JS .

MeteorJS 是一个颠覆思维的 web 开发框架, 它将 Javascript 同构技术应用到极端, 再整合 websocket 进行实时数据通知, 不同于前后端分离的理念, 它在开发者角度完全没有前后端的概念, API 既在前端又在后端。React 是 Meteor 官方支持的前端方案之一。

在国内，跟 React 的压倒性的推广态势不同，Meteor 最近一年的发展只能用“比较快”来形容（也许比我想象得要用得人更多，但是的确没有 React 那种引爆的感觉）。但是 Peter 目前力推 Meteor 给各位，理由如下：

- Meteor 是开发 SPA 最简单的方式，学了 Meteor 即使未来走更底层的其他技术方案，Meteor 的知识也不会白学
- 常年在 Rails 社区的经历告诉 Peter ，其实大一统的框架还是有意义的，团队内部已经整个社区都遵循一个统一的做事思路，效率最高
- 我朋友在北京做微信开发，使用 Meteor 由于能够快速成型，同时用户体验好，还是非常赚钱的，用户不会管你是不是用 Meteor 的
- Meteor 是学习 React 的最佳方式。Meteor 的实时前后端数据通道，使得用它配合 React 使用妙不可言，多个组件订阅同一个数据库字段，就可以天然的达成单向数据流效果了，Redux 的很多功能得到了替代

项目地址: <https://www.meteor.com/>

### gulp 和 grunt 还有 bower

这里聊的这三个家伙不是框架，bower 是前端装包工具，gulp/grunt 是自动任务运行器。但是他们三个都属于项目构建领域，所以很多功能跟框架中有重叠。

bower 就别用了，直接 npm 安装一切包。grunt 和 gulp 类似，但是 gulp 是后起之秀。grunt 就别用了，gulp 还是可以用一些，很多包还是不错的。

### Webpack

React 社区的娇子，React 的大一些的项目很多都用 Webpack 。但是不可否认 Webpack 很难，而且即使学会了，还是要另写后端 API 代码的，因为 Webpack 只是用来构建前端的。

Peter 推荐的方式：先把 Meteor-React 思路学通了之后，再上 Webpack/Redux/GraphQL 这些东西。

### 框架演进的共同趋势

时代变迁，用户对前端的要求趋于”类原生 App “化，Peter 感觉所有的框架都会逐渐向着比较统一的新方向发展。所有评判框架优劣，Peter 就会看跟下面的几项标准的吻合度如何：

- 拥抱 ES6
- 前后端一种语言
- 业务逻辑更多的在前端完成（ SPA )
- 实时性为默认 （自身逻辑不需要去做 Ajax ）
- 组件化思想（ React 为代表）

### 参考

- [2016 年后 Web 开发趋势是什么](http://yafeilee.me/blogs/86) Peter 有从这篇文章中摘抄内容过来，但是很多观点我还是部分不赞同的
