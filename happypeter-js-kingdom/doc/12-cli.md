# 驾驭命令行怪兽

Peter 总会跟学习者重复的一句话是：Bash 命令行操作，Git 版本控制技巧，这两个技巧虽然表面上跟前端 Web 开发不是一体的，但是实际上，真正的摩登 JS 开发者是把这两个工具的使用植入到肌肉记忆中的，因为每天都会用到。本文主要来聊命令行，命令行有多种，但是真正的命令行指的就是 Unix 系统（ Linux 或者苹果的 Mac ）下的 Bash 命令行。

![](http://o86bpj665.bkt.clouddn.com/happypeter-js-kingdom/pic12-1-bash.png)

Bash 的名字由来： Bourne 人名，又一个（ Again ，原来 Bourne 写过一个 Bsh）新 shell （ Shell 的意思就是，操作系统的“壳”，简单就可以理解为命令行）。

### 基本原理

跟平常用鼠标操作的图形化界面（英文叫 GUI ）不同，命令行是人和机器交流的另外一种方式，是基于文本的接口。具体来讲就是用户输入命令，由计算机去处理这些命令完成特定任务。命令行中，我们可以在各个文件夹中跳转，也可以创建删除修改文件。Peter 自己常用的一个比喻就是用鼠标操作 GUI 其实更像是用哑语跟机器交流，而使用命令行就好比用文字跟机器交流，虽然命令行不能替代一切鼠标操作，但是完成大部分操作，命令行都要比鼠标更高效，这也就是摩登开发者每天都用命令行的原因。

### 命令行的优势

你是否注意到，在电影中一个“超级黑客”坐在电脑前，从不摸一下鼠标， 就能够在30秒内侵入到超安全的军事计算机中。这是因为电影制作人本能的意识到，让计算机真正高效的完成工作的唯一途径，是用键盘来操纵计算机。

现在，大多数的计算机用户只是熟悉图形用户界面（GUI），并且产品供应商会灌输给用户这样的思想： 命令行界面（CLI）是老掉牙的东西。这就是误导，因为命令行界面， 是用来和计算机进行交流沟通的非常有效的方式，正像人类社会使用文字互通信息一样。

>图形用户界面让简单的任务更容易完成， 而命令行界面使完成复杂的任务成为可能

到现在这句话仍然很正确。

### Bash 脚本

命令行的基本使用是在命令窗口中敲命令，最开始要记住几十个命令的拼写似乎是比图形界面的上手稍微麻烦一些。但是命令行的好处是，对于要反复重复的一系列操作，可以把对于的 Bash 命令固化到一个 Bash 脚本之中。Bash 脚本不仅仅是命令的罗列，其中可以实现很多其他编程语言的功能，例如逻辑判断，正则表单式，循环等等。

```
#!/usr/bin/env bash

echo -n "Enter your name and press [ENTER]: "
read name
for TIME in 1 2 3
do
  echo hello $name $TIME
done
```

上面是一个 Bash 脚本的例子。

Peter 点评：系统管理员通常要写几千行一个的脚本，我们作为 JS 开发者一般不用，会写简单的脚本就够用了。

### JS 开发者的日常

摩登 JS 开发的最佳平台是 Mac （也有一些开发者用 Linux 也是非常好的) 。Mac 是 Unix 系统的一种，除了代码编辑器，用得最多的工具可能就是命令行了。Mac 系统默认的命令行是 Bash ，现在很流行的做法是使用 zsh （跟 Bash 大同小异，可以认为就是对 Bash 的优化版），Peter 自己就是用 zsh 的。版本控制工具 Git ，安装 Nodejs 和 npm 包，等各种操作都是要在命令行中完成的。等到程序要上线了，一般我们申请的 VPS 之上，我们会安装 Linux ，这种服务器操作系统之王。Linux 有各种类型，专业的说法叫发行版，例如 ubuntu 或者 centos 或者其他，但是 Linux 上，跑的也是 Bash 命令行，所以要完成项目上线部署过程，也是需要掌握命令行的使用的。

![](http://o86bpj665.bkt.clouddn.com/happypeter-js-kingdom/pic12-2-work.png)

注：上图左侧操作的是本地 Mac 机器，正在运行 Git 命令辅助代码开发，右侧则登录到了我自己在阿里云的安装有 Ubuntu Linux 系统的服务器上进行项目部署。作为一个疯狂创业者，每天部署个几十次是很常见的啦。

### 如何学习

虽然开发者和 Linux 管理员都要每天使用命令行，但是其实使用的方式还是差别很大的。例如有一本书《鸟哥的 Linux 私房菜》，非常适合职业的系统管理员看，但是对于 JS 开发者而言角度就严重跑偏了。所以，对于摩登 JS 开发者，Peter 推荐的命令行学习资料是：[快乐的命令行](http://billie66.github.io/TLCL/) 。

另外，Peter 自己的视频课程 [《驾驭命令行怪兽》](http://haoqicat.com/ride-cli-monster) 也希望大家多多支持呀。

### 参考

- <http://www.frontendhandbook.com/learning/cli.html>
- <https://www.codecademy.com/en/courses/learn-the-command-line>