# sudo 和用户权限

[权限这部分知识](http://billie66.github.io/TLCL/book/chap10.html) 真的是一个新手大坑，要学会还是要花很大力气的，但是我自己想想其实自己已经有多久没有用 `ls -l file` 和 `chmod 755 file` 以及 `chown` 这样的命令。所以作为 JS 开发者，只要真正理解了 sudo ，基本上大部分日常的工作就可以应付了。

注意：在 Ubuntu 服务器部署部分的章节中，还会涉及到创建普通用户，赋予这个普通用户 sudo 权限等一些相关知识的。

### 一句话解释 sudo 

直接的意思是变身其他用户去执行某个命令，实际使用情形中基本都是普通用户去变身超级用户。

### Unix 是个多用户系统

Unix （ Mac 和 Ubuntu 等）是个多用户系统，意思是会有系统上会有多个用户。用户多，但是 Unix 有强大的权限控制功能，这个是 Unix 的一大优势了，特别适合作为安全的互联网服务器来使用。但是今天我们把这个问题简单的聊一下，目的是用20%的力气，解决日常开发中80%的应用场景。

好，用户随多，但是可以分为两类：普通用户和超级用户，超级用户可以理解为系统管理员。

### 当前用户

可以用 `whoami` 命令来查看“当前用户”是谁，Mac 和 Ubuntu 系统上一般默认的当前用户都是普通用户。

注意：在阿里云申请到的服务器上，默认安装 Ubuntu 之后，当前用户是 root ，这个 root 就是超级用户了。

### sudo 变身超级用户身份

普通用户执行有些操作的时候会失败，报错是

```
permission denied # 权限拒绝
```

这个时候，只要在要执行的命令之前添加 `sudo` 就可以避免这个错误了。此时需要输入密码，注意，这个密码就是普通用户自己的密码，不需要知道超级用户的密码是多少。

### 普通用户的用户“主目录”

主目录，其实也就是主文件夹了。比如我当然用户是 peter ，那么 Mac 系统上一般是 `/Users/peter` ，Ubuntu 上是 `/home/peter` 。默认情况下，用户在自己的主目录下是有写权限的，而在其他地方是没有写权限的，也就是不能执行创建删除修改文件或者文件夹的操作。这个时候就需要 sudo 来帮忙了。

### 总结

理解了 sudo ，日常开发中的任务大部分就可以应付了。其他在服务器管理的时候有些特殊的技巧，到时候咱们结合实际情况再解释。